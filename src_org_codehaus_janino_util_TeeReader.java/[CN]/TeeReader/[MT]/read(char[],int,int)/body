{
  int bytesRead=this.in.read(cbuf,off,len);
  if (bytesRead == -1) {
    if (this.closeWriterOnEOF) {
      this.out.close();
    }
 else {
      this.out.flush();
    }
  }
 else {
    this.out.write(cbuf,off,bytesRead);
  }
  return bytesRead;
}
