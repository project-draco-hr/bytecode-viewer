{
  DataOutputStream dos=os instanceof DataOutputStream ? (DataOutputStream)os : new DataOutputStream(os);
  dos.writeInt(ClassFile.CLASS_FILE_MAGIC);
  dos.writeShort(this.minorVersion);
  dos.writeShort(this.majorVersion);
  ClassFile.storeConstantPool(dos,this.constantPool);
  dos.writeShort(this.accessFlags);
  dos.writeShort(this.thisClass);
  dos.writeShort(this.superclass);
  ClassFile.storeShortArray(dos,this.interfaces);
  ClassFile.storeFields(dos,this.fieldInfos);
  ClassFile.storeMethods(dos,this.methodInfos);
  ClassFile.storeAttributes(dos,this.attributes,null);
}
