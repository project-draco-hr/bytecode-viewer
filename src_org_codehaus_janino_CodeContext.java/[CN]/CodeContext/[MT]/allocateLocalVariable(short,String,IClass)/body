{
  List<Java.LocalVariableSlot> currentVars=null;
  if (this.scopedVars.size() == 0) {
    throw new Error("saveLocalVariables must be called first");
  }
 else {
    currentVars=(List<Java.LocalVariableSlot>)this.scopedVars.get(this.scopedVars.size() - 1);
  }
  Java.LocalVariableSlot slot=new Java.LocalVariableSlot(name,this.nextLocalVariableSlot,type);
  if (slot.getName() != null) {
    slot.setStart(this.newOffset());
  }
  this.nextLocalVariableSlot+=size;
  currentVars.add(slot);
  this.allLocalVars.add(slot);
  if (this.nextLocalVariableSlot > this.maxLocals) {
    this.maxLocals=this.nextLocalVariableSlot;
  }
  return slot;
}
