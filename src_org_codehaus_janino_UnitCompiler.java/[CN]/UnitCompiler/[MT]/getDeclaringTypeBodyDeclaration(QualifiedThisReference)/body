{
  if (qtr.declaringTypeBodyDeclaration == null) {
    Scope s;
    for (s=qtr.getEnclosingBlockStatement(); !(s instanceof TypeBodyDeclaration); s=s.getEnclosingScope())     ;
    qtr.declaringTypeBodyDeclaration=(TypeBodyDeclaration)s;
    if (qtr.declaringTypeBodyDeclaration.isStatic()) {
      this.compileError("No current instance available in static method",qtr.getLocation());
    }
    qtr.declaringClass=(ClassDeclaration)qtr.declaringTypeBodyDeclaration.getDeclaringType();
  }
  return qtr.declaringTypeBodyDeclaration;
}
