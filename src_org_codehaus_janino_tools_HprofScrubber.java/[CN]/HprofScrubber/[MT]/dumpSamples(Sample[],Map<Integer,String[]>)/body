{
  int totalCount=0;
  for (  Sample s : ss)   totalCount+=s.count;
  System.out.println("          percent");
  System.out.println("rank   self  accum      count");
  System.out.println("Total:              " + totalCount);
  double accumulatedPercentage=0.0;
  MessageFormat mf=new MessageFormat("{0,number,00000} {1,number,00.00}% {2,number,00.00}% {3,number,000000000}");
  for (int i=0; i < ss.length; ++i) {
    Sample sample=ss[i];
    double selfPercentage=100.0 * ((double)sample.count / (double)totalCount);
    accumulatedPercentage+=selfPercentage;
    System.out.println(mf.format(new Object[]{new Integer(i + 1),new Double(selfPercentage),new Double(accumulatedPercentage),new Integer(sample.count)},new StringBuffer(),new FieldPosition(0)));
    String[] stackFrames=(String[])traces.get(new Integer(sample.traceNumber));
    if (stackFrames != null) {
      for (      String stackFrame : stackFrames)       System.out.println("                           " + stackFrame);
    }
  }
}
